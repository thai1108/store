name = "store-backend"
main = "index.ts"
compatibility_date = "2024-11-15"
compatibility_flags = ["nodejs_compat"]

# Development/Local D1 Database
[[d1_databases]]
binding = "DB"
database_name = "store-db"
database_id = "51a76f8b-e24d-4715-a518-8bf5333d0919"

# R2 Storage for file uploads (avatars, product images, etc.)
[[r2_buckets]]
binding = "STORAGE"
bucket_name = "store-uploads"

# Production environment configuration
[[env.production.d1_databases]]
binding = "DB"
database_name = "store-db-production"
database_id = "59ffd72a-f098-4976-9e41-f68700a6fc6f"

[[env.production.r2_buckets]]
binding = "STORAGE"
bucket_name = "store-uploads-production"