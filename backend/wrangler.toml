name = "store-backend"
main = "index.ts"
compatibility_date = "2024-11-15"
compatibility_flags = ["nodejs_compat"]

# Development/Local D1 Database
[[d1_databases]]
binding = "DB"
database_name = "store-db"
database_id = "14d1e355-8528-487f-b451-cf977e1c8f40"

# R2 Storage for file uploads (avatars, product images, etc.)
[[r2_buckets]]
binding = "STORAGE"
bucket_name = "store-uploads"

# Production environment configuration
[[env.production.d1_databases]]
binding = "DB"
database_name = "store-db-production"
database_id = "99e8807a-f5de-4b6b-82c7-afc8a8ec4402"

[[env.production.r2_buckets]]
binding = "STORAGE"
bucket_name = "store-uploads-production"